<form action="/dashboard/students/<%= @student_id %>/signups/add" method="POST">
  <div class="form-group">
    <label>Monto de inscripción (BsF.)</label>
    <input type="text" class="form-control" name="signup[signup_amount]" placeholder="Monto">
  </div>
  <div class="form-group">
  <label>Método de pago</label>
      <select name="signup[payment_type]" class="form-control" id="paymentType">
          <option value="" selected>Seleccione un método de pago</option>
          <% ["Débito", "Depósito", "Transferencia", "Crédito", "Efectivo"].each do |method| %>
          <option value="<%= method %>"><%= method %></option>
          <% end %>
      </select>
  </div>
  <div class="form-group">
    <label>Fecha de emisión</label>
    <div class="input-group date" id="datePicker">
      <input type="text" class="form-control" name="signup[issue_date]">
      <span class="input-group-addon">
        <span class="glyphicon glyphicon-calendar"></span>
      </span>
    </div>
  </div>
  <div class="form-group" id="bank" style="display:none;">
    <label>Banco</label>
      <select name="signup[bank]" class="form-control">
        <option value="" selected>Seleccione un banco</option>
        <% @banks.each do |bank| %>
        <option value="<%= bank.bank_name %>"><%= bank.bank_name %></option>
        <% end %>
      </select>
  </div>
  <div class="form-group" id="referenceNumber" style="display:none;">
    <label>Número de referencia</label>
    <input type="text" class="form-control" name="signup[reference_number]" placeholder="Referencia">
  </div>
  <div class="form-group">
    <label>Concepto</label>
    <input type="text" class="form-control" name="signup[signup_description]" placeholder="Concepto">
  </div>
  <div class="form-group">
    <label>Notas (Opcional)</label>
    <textarea type="text" class="form-control" rows="3" name="signup[signup_notes]" placeholder="Notas"></textarea>
  </div>
  <input type="hidden" name="signup[student_id]" value="<%= @student_id %>">
  <input type="hidden" name="signup[user_id]" value="<%= session[:id] %>">
  <button type="submit" class="btn btn-success">Generar inscripción</button>
  <a href="/dashboard/students/<%= @student_id %>/signups" class="btn btn-default">Cancelar</a>
</form>

<script type="text/javascript">
  $(function () {
    $('#datePicker').datetimepicker({
      format: 'DD/MM/YYYY'
    });
  });

  var paymentType = document.getElementById("paymentType");

  paymentType.onchange = function(){
    var bank = document.getElementById("bank");
    var referenceNumber = document.getElementById("referenceNumber");
    bank.style.display = (this.value != "Transferencia") ? "none":"block";
    referenceNumber.style.display = (this.value == "Efectivo") ? "none":"block";
  };
</script>
